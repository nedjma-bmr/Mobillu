
<ion-header>
  
</ion-header>

<ion-toolbar>
    
  <ion-title class="ion-text-center"> <div class = "toolbar-title">Produits </div></ion-title>
  <!-- bouton retour pr fermer la modal-->
  <ion-buttons slot="start">
    <ion-button color="dark" (click)="dismissModal()">
    <ion-icon name="arrow-back"></ion-icon>
    </ion-button>
    </ion-buttons>
     <!-- Ajouter un produit -->
    <ion-buttons slot="end">
      <ion-button color="dark" (click)="ajouterProduit()" *ngIf="Modifier">
      <ion-icon name="add"></ion-icon>
      </ion-button>
      </ion-buttons>

</ion-toolbar>

<ion-content padding>
<!-- détails d'un produit -->
<ion-card *ngFor="let pro of cmdProds" style="height: auto;margin-bottom: 40px;">
  <ion-card-header color="principale">
    <!-- le nom du produit -->  
  <h5 style="font-weight: bold;" class="qte"> <span>{{pro.design_prod}}</span></h5>
  
  
  </ion-card-header>
  <ion-card-content>
    <!-- le prix du vente du produit --> 
    <ion-col>
      <div class="qte"> Prix de vente HT : <span>{{pro.pvht}} (DA)</span> </div>
      
  </ion-col>
  <!-- la TVA sur ce produit --> 
  <ion-col>
    <div class="qte"> TVA : <span>{{pro.TVA}} %</span> </div>
    
</ion-col>
<!-- le prix du vente TTC --> 
<ion-col>
  <div class="qte"> Prix de vente TTC :  <span>{{pro.prixttc.toFixed(2)}} (DA)</span></div>
  
</ion-col>
<ion-row class = "right">
  <!-- la quantité du produit dans la commande--> 
  <ion-col>
    <div class="qte">  Quantité :</div>
  </ion-col>

  
    <ion-row class ="droit">
      <ion-col col-6 class="calculation" width-25 >
        <!-- button décrémentant la quantité du produit --> 
        <ion-button color="danger" fill="clear" (click)="decrease(pro)" class="gg" *ngIf="Modifier">
          <ion-icon name="remove-circle" slot="icon-only"></ion-icon>
        </ion-button>
      

      <span *ngIf="Modifier">{{pro.qte}}</span>
      <span *ngIf="!Modifier" class="quantite"> {{pro.qte}}</span>
        <!-- button incrémentant la quantité du produit--> 
        <ion-button color="success" fill="clear" (click)="increase(pro)" class="gg" *ngIf="Modifier">
          <ion-icon name="add-circle" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-col>
      
 </ion-row>


</ion-row>
 
<ion-row>
  <!-- le prix ttc * la qte du produit --> 
  <ion-col>
   <div class="qte"> Prix selon quantité  : <span>{{(+pro.qte*(+(pro.prixttc))).toFixed(2)}} (DA)</span></div>
  </ion-col>
</ion-row>

  </ion-card-content>
     
  
</ion-card>
<!-- si la commande est modifié afficher le button "Enregistrer" --> 
<ion-row *ngFor="let p of cmdProds">
  <ion-button  *ngIf="edited " id="enregister" (click)="Submit(p.id_produit)"  >Enregister</ion-button>
</ion-row>


  <ion-button *ngIf="edited" id="enregister" (click)="Submit()"> Enregister</ion-button>
 
      
</ion-content>
  


  